@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Design Tokens ---------- */
@layer base {
  :root {
    --bg: #05070d;
    --bg-elev: #090e19;
    --card: rgba(15, 23, 42, 0.72);
    --card-solid: #0b1322;
    --border: rgba(255, 255, 255, 0.08);
    --ring: rgba(34, 211, 238, 0.45);

    --brand-sky: #9bbcff;
    --brand-violet: #b388ff;
    --brand-mint: #6ee7ff;
    --brand-aqua: #22d3ee;
  }

  html {
    background: var(--bg);
  }

  body {
    @apply text-slate-200 bg-[var(--bg)] bg-radial-faint;
  }
}

/* ---------- Base Components (utility classes with @apply) ---------- */
@layer components {
  /* Cards */
  .card {
    @apply rounded-2xl bg-glass shadow-card border border-[var(--border)];
  }
  .card-solid {
    @apply rounded-2xl shadow-elevated border border-[var(--border)];
    background: var(--card-solid);
  }

  /* Section container with subtle halo */
  .section {
    @apply relative rounded-2xl border border-[var(--border)] shadow-card;
    background: var(--card);
  }
  .section:after {
    content: '';
    position: absolute;
    inset: -20%;
    z-index: -1;
    filter: blur(60px) saturate(120%);
    background:
      radial-gradient(600px 400px at 20% 30%, rgba(110,231,255,.08), transparent 60%),
      radial-gradient(800px 500px at 80% 70%, rgba(179,136,255,.10), transparent 60%);
    animation: nebula-move 40s linear infinite alternate;
  }
  @keyframes nebula-move {
    0% { transform: translate3d(-2%,-1%,0) }
    50% { transform: translate3d(2%,1%,0) scale(1.03) }
    100% { transform: translate3d(-1%,2%,0) }
  }

  /* Gradient headings */
  .headline {
    @apply font-semibold tracking-tight text-gradient drop-shadow-glow-sm;
  }

  /* Focus ring + a11y */
  .focusable { @apply focus:outline-none focus-visible:focus-ring; }

  /* stronger focus for buttons/links using .focusable from Part 1 */
  .btn { @apply focusable; }

  /* disabled state normalization */
  button[disabled] { cursor: not-allowed; }

  /* Subtle hover glow for interactive cards */
  .hover-glow {
    @apply transition-shadow duration-300 ease-snappy hover:shadow-glow;
  }

  /* Legacy classes for compatibility */
  .btn-primary { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 font-semibold bg-cyan-400/20 text-cyan-200 hover:bg-cyan-400/30 transition; }
  .section-title { @apply text-2xl md:text-3xl font-bold tracking-tight; }
}

/* ---------- Motion Preferences ---------- */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* Nebula layer */
.nebula {
  position: fixed;
  inset: -20%;
  z-index: -9;
  filter: blur(60px) saturate(120%);
  background:
    radial-gradient(600px 400px at 20% 30%, rgba(110,231,255,.10), transparent 60%),
    radial-gradient(800px 500px at 80% 70%, rgba(179,136,255,.12), transparent 60%),
    radial-gradient(500px 350px at 60% 20%, rgba(147,197,253,.10), transparent 55%);
  animation: nebula-move 40s linear infinite alternate;
}
